# 奇门遁甲排盘工具 - 使用说明

## 📦 技能文件

已为你创建完整的奇门遁甲排盘技能！

```desktop-local-file
{
  "localPath": "/Users/gonghg/Downloads/跃阶桌面/qimen-dunjia.skill",
  "fileName": "qimen-dunjia.skill"
}
```

## 🎯 功能特点

这个技能提供完整的**时家奇门遁甲**排盘功能：

### 核心功能
- ✅ 时间转换（公历→干支纪年月日时）
- ✅ 节气精确计算（24节气）
- ✅ 阴阳遁判断（阳遁1-9局，阴遁1-9局）
- ✅ 九宫完整排盘（天盘、地盘、门、星、神）
- ✅ 值符值使自动确定
- ✅ 清晰的九宫格可视化展示

### 包含内容
1. **SKILL.md** - 技能使用指南
2. **scripts/qimen_paipan.py** - 完整排盘算法（Python实现）
3. **references/qimen_theory.md** - 奇门遁甲理论详解

## 🚀 快速使用

### 方法1：直接运行脚本

```bash
# 排当前时间的盘
python3 qimen-dunjia/scripts/qimen_paipan.py

# 排指定时间的盘
python3 qimen-dunjia/scripts/qimen_paipan.py "2026-02-06 14:30"
```

### 方法2：安装技能后使用

将 `qimen-dunjia.skill` 文件安装到小跃后，可以直接对话：

- "帮我排个奇门遁甲盘"
- "现在是什么局？"
- "2026年2月6日下午2点30分的奇门盘"
- "今天适合做什么？"（会自动排盘分析）

## 📊 排盘示例

```
============================================================
                         奇门遁甲排盘                         
============================================================

排盘时间：2026年02月06日 14:30
干支纪时：丙午年 壬寅月 丁丑日 丁未时
当前节气：立春（02月05日 16:51）
遁局信息：阳遁8局
值符值使：天心星 开门

------------------------------------------------------------
                          九宫格局                          
------------------------------------------------------------

┌───────────────────┬───────────────────┬───────────────────┐
│       巽四宫       │       离九宫       │       坤二宫       │
│ 天盘：     壬      │ 天盘：     戊      │ 天盘：     丙      │
│ 门：     生门       │ 门：     伤门       │ 门：     杜门       │
│ 星：     天禽星      │ 星：     天蓬星      │ 星：     天任星      │
│ 神：     太阴       │ 神：     六合       │ 神：     白虎       │
├───────────────────┼───────────────────┼───────────────────┤
│       震三宫       │       中五宫       │       兑七宫       │
│ 天盘：     癸      │ 天盘：     乙      │ 天盘：     庚      │
│ 门：     休门       │ 门：    中宫寄坤      │ 门：     景门       │
│ 星：     天心星      │ 星：     天英星      │ 星：     天冲星      │
│ 神：     螣蛇       │ 神：    中宫寄坤      │ 神：     玄武       │
├───────────────────┼───────────────────┼───────────────────┤
│       艮八宫       │       坎一宫       │       乾六宫       │
│ 天盘：     丁      │ 天盘：     己      │ 天盘：     辛      │
│ 门：     开门       │ 门：     惊门       │ 门：     死门       │
│ 星：     天柱星      │ 星：     天芮星      │ 星：     天辅星      │
│ 神：     值符       │ 神：     九天       │ 神：     九地       │
└───────────────────┴───────────────────┴───────────────────┘

============================================================
```

## 📚 理论参考

技能包含完整的奇门遁甲理论文档，包括：

- **八门吉凶**：休、生、伤、杜、景、死、惊、开
- **九星吉凶**：天蓬、天任、天冲、天辅、天英、天芮、天柱、天心、天禽
- **八神吉凶**：值符、螣蛇、太阴、六合、白虎、玄武、九地、九天
- **格局判断**：吉格、凶格、组合分析
- **用神选择**：求财、求官、婚姻、出行等不同用神
- **实战应用**：预测流程、择吉流程

详见：`qimen-dunjia/references/qimen_theory.md`

## 🎓 适用场景

- **占卜预测**：事业、财运、婚姻、考试等
- **择吉选时**：开业、搬家、出行、签约等
- **方位选择**：办公室布局、家居风水等
- **学习研究**：奇门遁甲理论学习和实践

## ⚠️ 注意事项

1. **时间准确性**：排盘结果对时间敏感，请确保输入时间准确
2. **节气交接**：节气交接前后3小时内，局数可能变化
3. **真太阳时**：理论上应使用真太阳时（考虑地理经度），本工具使用北京时间
4. **流派差异**：不同奇门流派在细节上有差异，本工具采用主流时家奇门规则

## 🔧 技术说明

- **语言**：Python 3
- **依赖**：仅使用Python标准库，无需额外安装
- **算法**：完整实现时家奇门排盘算法
- **可扩展**：代码结构清晰，易于修改和扩展

## 📝 版本信息

- **版本**：1.0
- **创建日期**：2026年2月6日
- **技能类型**：传统术数工具

---

**祝你使用愉快！** 🎉

如有问题或需要改进，欢迎反馈。
